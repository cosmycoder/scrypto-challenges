<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Web site created using create-snowpack-app" />
    <link rel="stylesheet" type="text/css" href="/index.css" />
    <title>Demifi Demo</title>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <script type="module" src="/dist/index.js"></script>
    <!--
      This HTML file is a template.
      If you open it directly in the browser, you will see an empty page.

      You can add webfonts, meta tags, or analytics to this file.
      The build step will place the bundled scripts into the <body> tag.

      To begin the development, run `npm start` or `yarn start`.
      To create a production bundle, use `npm run build` or `yarn build`.
    -->

    <h1>Demifi</h1>
    <p> This app demonstrates the bootstrapping of the Demifi loan
    system.</p>

    <h2>1. Fetch User Account Address</h2>
    <p><button id="fetchAccountAddress">Click me</button> to get the account address of the PTE Browser Extension user.</p>
    <p>Account Address: <pre id="accountAddress"></pre></p>

    <h2>2. Publish Package</h2>
    <p><button id="publishDemifi">Publish</button></p>
    <p>Package Address:<br><pre id="demifiPackageAddress"></pre></p>

    <h2>3. Instantiate Participants (two transactions to sign)</h2>
    <p><button id="instantiateParticipants">Instantiate</button></p>
    <p>Component Address:<br><pre id="participantsComponentAddress"></pre></p>
    <p>NFT Resource Address:<br><pre id="participantsNftAddress"></pre></p>
    <p>Catalog owner NFT id:<br><pre id="participantsOwnerNfid"></pre></p>
    <h3> 3.1 Create Alice's Participant NFT (second tx to sign)</h3>
    <p>Alice Participant NFT id: <pre id="participantNfid"></pre></p>

    <h2>4. Instantiate LoanRequestor</h2>
    <p><button id="instantiateRequestor">Instantiate</button></p>
    <p>Component Address:<br><pre id="requestorComponentAddress"></pre></p>
    <p>LoanRequest NFT Ressource Address:<br><pre id="loanRequestNftAddress"></pre></p>
    <p>Requestor admin badge Address:<br><pre id="requestorAdminBadgeAddress"></pre></p>
    <p>Requestor config badge Address:<br><pre id="requestorConfigBadgeAddress"></pre></p>

    <h2>5. Instantiate LoanAcceptor</h2>
    <p><button id="instantiateAcceptor">Instantiate</button></p>
    <p>Component Address:<br><pre id="acceptorComponentAddress"></pre></p>
    <p>Loan NFT Resource Address:<br><pre id="loanNftAddress"></pre></p>

    <h2>6. Activate LoanRequestor</h2>
    <p><button id="activateAcceptor">Activate</button> <pre id="acceptorActivatedOk"></pre></p>

    <h2>7. Alice requests a loan</h2>
    <p><button id="requestLoan">Request a loan</button></p>
    <p>LoanRequest NFT id:<br><pre id="loanRequestNfid"></pre></p>

    <h2>8. Alice funds her own loan</h2>
    <p>Clicking around to sign with different accounts got very
    tedious so we'll have Alice loan herself money. It's silly but
    it's supported and it demonstrates the functionality.</p>
    <p><button id="pledgeLoan">Make a pledge</button></p>
    <pre id="pledgeOk"></pre></p>

    <h2>And then time ran out for the dev.</h2>

    <h2>Final error:</h2>
    <p><pre id="errorReturn"></pre></p>
    </body>
</html>
