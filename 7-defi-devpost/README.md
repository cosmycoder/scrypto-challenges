THIS CODE IS NOT FULLY COMPLETE! After building for some days, just 2 days before the deadline I realised the way I built the code was wrong. So I had to rewrite the code in just 2 days. I simultaneously tried to build a frontend which also flopped.
If I had not made those mistakes I could have made an working product. Some functionalities are missing like withdrawal of lending and borrowing postions. I also didnt had the time to build a transaction manifest. 

The project I tried to build is based on https://timeswap.io/

Abstract:
Optlend is a fully decentralized AMM based money market protocol which is self sufficient, non-custodial and works without oracles or liquidators. Optlend’s proprietary 3 variable AMM is motivated by the constant product AMM used by Uniswap. It provides flexibility to the end user by allowing the user to decide their risk profile and accordingly set the interest rates & collateral ratio for each lending or borrowing transaction. It is permission-less, allowing anybody to create a borrowing / lending market for any tokens.

Key Features of Optlend
Market driven interest & collateral — As lenders, borrowers and liquidity providers interact with our pool by executing transactions, this changes the supply of assets thereby changing the interest as well as collateral required for each transaction. This dynamic interest rate and collateral factor ensures greater capital efficiency and flexible risk management.

Oracle-less — Works without the need of oracles as lending and borrowing of assets is determined by demand and supply of tokens in the pools rather than based on any price oracle.

Permission-less — It is fully permission-less thereby allowing anyone to create a pool for lending and borrowing of any tokens with any other token as collateral with any maturity date

Fixed Maturity- Optlend pools have fixed maturity enabling the creation of fixed maturity financial products such as bonds, options etc

Isolated Markets- Isolated pools means collapse of one collateral does not effect other markets compared to the pooled liquidity model in other protocols

Minimal attack vectors — Works without oracles or liquidators there are minimal attack vectors on the protocol

GUIDE:
1. Constant Sum Amm
https://timeswap.gitbook.io/timeswap-v2-money-market/getting-started/timeswap-amm
https://timeswap.gitbook.io/timeswap-v2-money-market/deep-dive/liquidity-provision

2.Borrowing
https://timeswap.gitbook.io/timeswap-v2-money-market/getting-started/how-it-works/borrowing-under-different-scenarios
https://timeswap.gitbook.io/timeswap-v2-money-market/deep-dive/borrowing

3. Lending
https://timeswap.gitbook.io/timeswap-v2-money-market/getting-started/how-it-works/lending-under-different-scenario
https://timeswap.gitbook.io/timeswap-v2-money-market/deep-dive/lending

4. Bi-Directionality
https://timeswap.gitbook.io/timeswap-v2-money-market/deep-dive/bi-directionality-explained





